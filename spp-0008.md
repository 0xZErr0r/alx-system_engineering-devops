## Preamble

```
SPP: 0008
Title: Transactions
Author: Smilepay
Status: Active
Created: 20-11-2021
Updated: 20-11-2021
Discussion: N/A
```

## Description
Transactions are those that happens between any two Smilepay accounts. There are many multiple types of transactions in the system because Smilepay has multiple accounts. Here is the format which all transactions follow:

[transaction sample image]

<br />

[SA to SA transactions image]

In Smilepay, transactions between multiple accounts are treated differently as there account types of the sender and recipient account determines the transaction type. As such the quota type & quota amount varies for each transaction types. Here are the different transaction types in Smilepay: 

<br />

**a. Send** <br /> 
Is a type of transaction that happens when both the sender & receipient accounts are personal accounts or agent accounts. This transaction type includes: 
- P2P (personal-to-personal) transactions
- A2A (agent-to-agent) transactions 

And send transaction type happens in the rare transctions that are allowed in a self transaction, which are:
- P2B (person-to-business) transactions
- B2P (business-to-person) transactions

<br />

**b. Pay/Buy** <br />
Is a type of transaction that happens when a business account is on either side of the transaction. This is when either the sender is a business account or the receipient is a business account or both sender & recipient accounts accounts are business accounts. This transaction type includes: 
- P2B (personal-to-business) transactions 
- B2P (business-to-personal) transactions
- B2B (business-to-business) transactions

> **Note:** <br />
> - Buy is something which is bought (product), while pay is money given in return for work, salary or wages (service). As such this is the recommended use of this terms for the above transaction type when it comes to user interface. Use the term "Buy" when users are buying products & use the term "Pay" when users are paying for a service. <br /> <br />
> - When the business account is an online business account type, users are not required to write recipient accounts as the system already knows it. 

<br />

**c. Recharge** <br />
Is a type of transaction that happens when the sender account is an agent account & the agent account can be any of the 4 agent account types. This transaction type includes: 
- A2P (agent-to-personal) transactions 
- D2P (distro_agent/super_agent/-to-personal) transactions 
- D2B (distro_agent/super_agent/-to-business) transactions 
- D2A (distro_agent/super_agent/-to-other_agents) transactions

<br />

**d. Withdraw** <br />
Is a type of transaction that happens when the recipient account is an agent account & the agent account can be any of the 4 agent account types. This transaction type includes:
- P2A (personal-to-agent) transactions
- P2D (personal-to-distro_agent/super_agent/) transactions 
- B2D (business-to-distro_agent/super_agent/) transactions 

<br />

### **Request**
Is not a type of transaction but is part of the transactional features. Request is a feature that enables users to request money from anyone only a specific few times in a given time (usually is three times a day).

<br />

### **Invalid Transactions**
Smilepay's business rules dictate that not all transactions between all smilepay accounts are allowed. Here are those transactions that are blocked:
 - A2B (agent-to-business) transactions
 - B2A (business-to-agent) transactions
 - A2D (agent-to-distro_agent/super_agent/) transactions
 - D2D (distro_agent/super_agent/-to-distro_agent/super_agent/) transactions
   
<br /> 

### **Self Transaction**
This is a type of transaction that happens between the multiple accounts of one user, like when a users sends money from their business account to there personal account. Here are the possible transactions and the invalid once:

![sf](https://user-images.githubusercontent.com/57795945/142725312-18e82026-9ed6-4280-be69-b2c71bb65571.PNG)

Here are the invalid transactions that are blocked in a self transaction:
- P2P (person-to-person) transactions
- B2B (business-to-business) transactions
- A2B (agent-to-business) transactions
- P2A (person-to-agent) transactions
- B2A (business-to-agent) transactions
- A2A (agent-to-agent) transactions

And here are the transctions that are allowed in a self transaction:
- P2B (person-to-business) transactions
- B2P (business-to-person) transactions 
- A2P (agent-to-person) transactions 

<br />

## Specification
N/A

<br />

## Security Concerns
Executing some transactions could become security concerns for the business. As such based on the business rules some of this transactions have been labeled invalid transactions and blocked.


