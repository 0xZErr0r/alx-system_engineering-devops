## Preamble

```
SPP: 0010
Title: Agent Network
Author: Smilepay
Status: Active
Created: 26-11-2021
Updated: 26-11-2021
Discussion: N/A
```

## Description
Agent Network is a network of people or businesses that are contracted to distribute electronic money to users. The most important part of there functions are the cash-in and cash-out process. (i.e. loading value into the mobile money system, and then converting it back out again); in different instances, entities in the agent network register new customers too. And a specific entity like the Master agent even recruit & train agents. As this rule deals with the inner working process of the agent network here are the four types of agents: <br /> 
&emsp; &emsp; &emsp; &emsp; &emsp; a. Super Agents /Disto/ <br />
&emsp; &emsp; &emsp; &emsp; &emsp; b. Master Agents <br />
&emsp; &emsp; &emsp; &emsp; &emsp; c. Agents <br />
&emsp; &emsp; &emsp; &emsp; &emsp; d. Balancers <br />

<br />

![agent types and e-money distribution flow](https://user-images.githubusercontent.com/57795945/143642259-5cbf0018-22bb-40d3-ba7c-94d60b083163.jpg)

<br />

a. Super Agent /Distro/ <br />
```
A partner business, most of the time a bank, which takes electronic money from Smilepay and then distributes it to different types 
of agents, who in turn sell it to users or distributes it directly to users. Super agents usually profit from other partnership 
deals, not distribution of Smilepay electronic money.
```

<br />

b. Master Agent <br />
```
Sometimes called an aggregator is a business that purchases e-money from Super agents and then resells it to agents, who in turn 
sell it to users. Unlike a superagent, masteragents are responsible for recruiting agents, training agents and distributing the 
electronic money in a way thats attractive for agents and profitable to them when distributing in bulk.
```

<br />

c. Agents <br />
```
A person or business that is contracted to facilitate transactions for users. The most important of these are cash-in and cashout 
(i.e. loading value into the mobile money system, and then converting it back out again); in many instances, agents register new 
customers too. Agents usually earn commissions for performing these services. They also often provide front-line customer 
service—such as teaching new users how to initiate transactions on their phone. Typically, agents will conduct other kinds of 
business in addition to mobile money. The kinds of individuals or businesses that can serve as agents will sometimes be limited 
by regulation, but small-scale traders, microfinance institutions, chain stores, and bank branches serve as agents in some 
markets. There are some instances where users might directly recharge from superagents like banks and not agents. Here the 
different types of agents:

Fixed Agents:
Are agents that are usually businesses or anything that have legal fixed location.

Walker Agents:
Are agents that are just people, anywhere and everywhere on the road walking, sitting or even running.

Driver Agents:
Are agents that are usually ride hailing drivers but could also be anyone that drives a car.
```

<br />

d. Balancer Agent <br />
```
As each agents give both service of recharge and withdraw, the number of recharge they give out in a certain time might become 
more than the number of withdraw they give. This could hinder the agents ability to give out more recharges. And this could be 
in the middle of the day. As most agents will be working as agents as a secondary thing to there first job, this agents will not 
be able to go out to banks and get more electronic money on their own. So to make sure such problems will not hinder 
availabilities of withdraw and recharge services found at each agents for our users, balancer agents are needed to give out 
this services to agents to keep liquidity in check. Scenarios for Balancer Agents are the following:

> When agents give more recharge service than withdrawal service, the agent will have more physical cash on them. 

> When agents give more withdrawal service than recharge service, the agent will have more electronic money on them.

The whole job of a balancer agent comes from the above 2 scenarios. One is where agents have excess physical cash & no electronic 
money, which will make them to not be able to give recharge service anymore. Second one is when agents have excess electronic 
money & no physical cash, which will make them to not be able to give withdraw service anymore. Balancer agents solve this 
scenerio by traveling using SmilePay company motorcycles between agents that have too much physical cash & too much electronic 
money. And trying to balance what each agent have so that service of recharge & withdraw given by agents will be available at 
all times. 

In other words, Balancer agents travel between agents to make sure each agent have liquidity. And each Balancer agent manages 
the cash and electronic-value liquidity requirements of a particular group of agents. Liquidity is the ability of an agent to 
meet customers’ demands to purchase (cash in, withdraw) or sell (cash out, recharge) e-money. The key metric used to measure 
the liquidity of an agent is the sum of their e-money and cash balances (also known as their float balance).
```

<br />

### Important Activities in an Agent Network & the Entities Doing them:

1. Agents Recruitment & Training <br />
The only agent type that are concerned with this work are "Master Agents". As the defination of masteragents descripe above, they are responsible for recruiting agents & training agents. This activity is the initial goal of an agent network. The biggest question with this activity is how to determine how many agents are required in Smilepay. The answer is Smilepay needs one agent for 200 to 400 users. <br /> <br />
![agent to user ratio](https://user-images.githubusercontent.com/57795945/143642527-de16e518-2201-4c97-b8e1-dd0ce72430ea.png)

<br />

2. Registration & Tutorial of Users <br />
Agents, the normal base Agents that include Fixed Agents, Walker Agents & Driver Agents are the agent type that are concerned with this activity. This agents will engage in registration & tutorial of users, besides their main job of cash-in and cashout (i.e. loading value into the mobile money system, and then converting it back out again).

<br />

3. Recharge & Withdraw Services <br />
Agents, the normal base Agents that include Fixed Agents, Walker Agents & Driver Agents are the agent type whose main job is cash-in (recharge) and cashout(withdraw) (i.e. loading value into the mobile money system, and then converting it back out again).

<br />

3. Reward <br />
As Agents, the normal base Agents that include Fixed Agents, Walker Agents & Driver Agents their is a main job of recharge and withdraw, but for this jobs to be executed well incentives/a payments/ are needed for the agents. This activity is all about this incentive called "Reward". Reward is an automatic incentive payments that is given to the users everytime the recharge a users account. The reward system is quite lucrative for agents but its vulernable to "Transaction Simulation" attack (i.e. there is more on SPP-0015). 

<br />

## Specification
N/A

<br />

## Security Concerns
**Security Concern 1:** <br />
The first & major security concern for an agent network is agents that are engaged in a "Transaction Simulation" Attack (i.e. visit SPP-0015 for more).
