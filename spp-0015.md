## Preamble

```
SPP: 0015
Title: Transaction Simulation
Author: Smilepay
Status: Active
Created: 03-12-2021
Updated: 03-12-2021
Discussion: N/A
```

## Description

### Problem
*Transaction Simulation* is a high security concern that comes with Smilepay's agent "Reward" incentive system for recharge. Even though the reward system is brilliant in motivating agents. The problem with instantly rewarding agents is that there is no way for the mobile money system to find out if the people the agent's recharging are random real users and not friends simulating transactions. Because when the agent is recharging a bunch of friends they are getting reward money from Smilepay & the agents are also getting back there money to recharge it again to there friends. Doing this cycle over and over again, this agents & their friends can bleed out Smilepay.

<br />

### Solution
The solution for this problem comes first with detecting this problamatic transactions & preventing it. As such Smilepay has developed a solution called *TSPS (Transaction Simulation Prevention System)*.

<br />

**1st Step:** <br />
TSPS monitors the first 5 transactions after a recharge and each Smilepay transaction costs 1%. As such by the 5th transaction smilepay already has made up the 5% it lost during a recharge. Which means Smilepay breaks-even a recharge cost if the user does 5 transactions consecutively after. Which also means if the attacker withdraws after 5 transactions, it will not affect smilepay. In Smilepay there should always be 5 transactions between a recharge and a withdraw for a certain user. In conclusion, to detect Transaction Simulation attacks, smilepay has to monitor if there is a withdraw transaction, inside the 5 transactions that happen after a recharge.

<br />

**2nd Step:** <br />
TSPS then puts users who are detected by the 1st step into a watch list. From this watch list, accounts will be blocked with good reasoning based on frequency of pre-withdrawals & accounts level of KYC.  

 
<br />

## Specification
In Smilepay, identifying specifics like identifying how frequent Transaction Simulation attacks are is critical. As such Smilepay has a metrics for calculating the percentage of the potential of Transaction Simulation attacks happening in the whole system. 

*Here is the formula for calculating potential transaction simulation in Smilepay:*
```

        PTS                Transaction Chains with withdraw under 5
(Potential Transaction) =  _________________________________________ X 100 %
     Simulation             Total Transaction Chains in the System


[Transaction Chain: the first 5 transactions after a recharge]
```
<br />

## Security Concerns
Security Concern 1: <br />
N/A
